{"version":3,"file":"js/index.js","mappings":"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","sources":["webpack://wecodeart/./inc/support/modules/translate/src/js/edit.js","webpack://wecodeart/./inc/support/modules/translate/src/scss/index.scss?2f45","webpack://wecodeart/external window \"ReactJSXRuntime\"","webpack://wecodeart/webpack/bootstrap","webpack://wecodeart/webpack/runtime/compat get default export","webpack://wecodeart/webpack/runtime/define property getters","webpack://wecodeart/webpack/runtime/hasOwnProperty shorthand","webpack://wecodeart/webpack/runtime/make namespace object","webpack://wecodeart/./inc/support/modules/translate/src/js/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nconst {\r\n    i18n: { __ },\r\n    data: { useSelect },\r\n    blockEditor: {\r\n        useBlockProps,\r\n        InspectorControls,\r\n        store: blockEditorStore\r\n    },\r\n    components: {\r\n        ToggleControl,\r\n        SelectControl,\r\n        PanelBody,\r\n        FormTokenField\r\n    },\r\n} = wp;\r\n\r\nfunction edit({ attributes, setAttributes, clientId }) {\r\n    const { language = 'code', translations = '', display = 'select', label = true, flag = false } = attributes;\r\n\r\n    const blockProps = useBlockProps({\r\n        className: 'wp-translate'\r\n    });\r\n\r\n    const { suggestions } = useSelect((select) => {\r\n        const selectedBlock = select(blockEditorStore).getSelectedBlock();\r\n\r\n        let suggestions = [{\r\n            value: 'en',\r\n            title: 'English'\r\n        }];\r\n\r\n        if (selectedBlock && clientId === selectedBlock.clientId) {\r\n            const settings = select('core/editor').getEditorSettings();\r\n            const translations = settings?.wecodeart?.translations ?? [];\r\n\r\n            suggestions = Object.entries(translations).map(([key, { english, native }]) => ({\r\n                value: key,\r\n                title: language === 'native' ? native : english\r\n            }));\r\n        }\r\n\r\n        return {\r\n            suggestions,\r\n        };\r\n    });\r\n\r\n    const romanian = {\r\n        code: 'RO',\r\n        native: 'Română',\r\n        english: 'Romanian'\r\n    };\r\n\r\n    // const titleToValue = (title) => title ? suggestions.find(lang => lang.title === title)?.value || '' : '';\r\n    const tokenIsValid = (value) => suggestions.some(lang => lang.value === value);\r\n    const valueToTitle = (value) => {\r\n        const valuesArray = value.split(' ').filter(Boolean);\r\n\r\n        const titlesArray = valuesArray.map(code => {\r\n            const suggestion = suggestions.find(lang => lang.value === code);\r\n\r\n            return suggestion ? suggestion.title : '';\r\n        });\r\n\r\n        return titlesArray.join(', ');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <InspectorControls>\r\n                <PanelBody title={__('Settings')}>\r\n                    <FormTokenField\r\n                        label={__('Translations')}\r\n                        placeholder={__('Use language code, eg: ro, en, fr.')}\r\n                        value={translations.split(' ').filter(Boolean)}\r\n                        suggestions={suggestions.map(({ value }) => value)}\r\n                        maxSuggestions={20}\r\n                        displayTransform={valueToTitle}\r\n                        /* saveTransform={titleToValue} */\r\n                        __experimentalValidateInput={tokenIsValid}\r\n                        __experimentalExpandOnFocus={true}\r\n                        onChange={(translations) => setAttributes({ translations: translations.join(' ') })}\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Language')}\r\n                        value={language}\r\n                        onChange={(language) => setAttributes({ language })}\r\n                        options={[\r\n                            { value: 'code', label: __('Language code') },\r\n                            { value: 'native', label: __('Native name') },\r\n                            { value: 'english', label: __('English name') },\r\n                        ]}\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Display')}\r\n                        value={display}\r\n                        onChange={(display) => setAttributes({ display })}\r\n                        disabled={true}\r\n                        options={[\r\n                            { value: 'select', label: __('Select') },\r\n                            { value: 'list', label: __('List'), disabled: true },\r\n                        ]}\r\n                    />\r\n                    <ToggleControl\r\n                        label={__('Label')}\r\n                        checked={label}\r\n                        onChange={(label) => setAttributes({ label })}\r\n                    />\r\n                    <ToggleControl\r\n                        label={__('Flag')}\r\n                        checked={flag}\r\n                        onChange={(flag) => setAttributes({ flag })}\r\n                    />\r\n                </PanelBody>\r\n            </InspectorControls>\r\n            <div {...blockProps}>\r\n                <SelectControl\r\n                    label={label && __('Language')}\r\n                    className=\"form-select\"\r\n                    style={{ pointerEvents: 'none' }}\r\n                    options={[{ value: '', label: romanian[language] }]}\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default edit;","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const {\r\n    blocks: {\r\n        registerBlockType\r\n    },\r\n    domReady\r\n} = wp;\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './../../translate-block.json';\r\nimport edit from './edit';\r\n\r\nimport './../scss/index.scss';\r\n\r\nconst { name } = metadata;\r\nconst settings = {\r\n    example: {},\r\n    save: () => null,\r\n    edit,\r\n};\r\n\r\nfunction initBlock(block) {\r\n    const { metadata, settings, name } = block;\r\n\r\n    return registerBlockType({ name, ...metadata }, settings);\r\n}\r\n\r\nconst init = () => {\r\n    const translateBlock = { name, metadata, settings };\r\n    \r\n    initBlock(translateBlock);\r\n};\r\n\r\ndomReady(() => init());"],"names":["i18n","__","data","useSelect","blockEditor","useBlockProps","InspectorControls","store","blockEditorStore","components","ToggleControl","SelectControl","PanelBody","FormTokenField","wp","edit","attributes","setAttributes","clientId","language","translations","display","label","flag","blockProps","className","suggestions","select","selectedBlock","getSelectedBlock","value","title","_settings$wecodeart$t","settings","getEditorSettings","wecodeart","Object","entries","map","key","english","native","romanian","code","tokenIsValid","some","lang","valueToTitle","valuesArray","split","filter","Boolean","titlesArray","suggestion","find","join","_jsxs","_Fragment","children","_jsx","placeholder","maxSuggestions","displayTransform","__experimentalValidateInput","__experimentalExpandOnFocus","onChange","options","disabled","checked","style","pointerEvents","blocks","registerBlockType","domReady","metadata","name","example","save","initBlock","block","init","translateBlock"],"sourceRoot":""}